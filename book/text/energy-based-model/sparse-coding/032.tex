\jl{r_tm1 .= model.r}の部分は，要素ごとのコピーを実行している．\jl{r_tm1 = copy(model.r)}でもよいが，新たなメモリ割り当てが生じるので避けている．\jl{@. r_tm1 = model.r}としてもよい．